<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <link rel="stylesheet" href="css/css-file.css">
  <script src = "js/js_file.js" defer></script>
  <title> Life expectancy factors </title>
</head>
<body>

<div class="title">
   
	<h1>
	What affects life expectancy around the world?
	</h1>

	<h2>
	A visualisation by Andrew Cao
	</h2>
 
</div>
 
 <div class="grid-container">
 
	<div class="grid-item">
 
		<div class="a">
 
			<div id="vis"></div>
			
		</div>
		
	</div>
 
	<div class="grid-item">
	
		<div class="e">
		<p3>
		The left chloropleth map shows life expectancy for each country. Darker colours represent more desirable, higher life expectancy values. Compare this map to the chloropleth map and the scatterplot below. 
		<br><br>Hover over each country to see that country's factor values. 
		<br><br>Click on a tab below to choose a factor to visualise.
		<br><br>Use the selection filter below to filter the scatterplot by region. 
		</p3>
		</div>
	
	</div>
 
	<div class="grid-item">
 
 
		<div class="d">
 
		  <div class="tab">
			<button class="tablinks" onclick="openMap(event, 'Population')"id="defaultOpen">Population</button>
			<button class="tablinks" onclick="openMap(event, 'GDP per capita')">GDP per capita</button>
			<button class="tablinks" onclick="openMap(event, 'HDI')">HDI</button>
			<button class="tablinks" onclick="openMap(event, 'Infant mortality')">Infant mortality</button>
			<button class="tablinks" onclick="openMap(event, 'CO2 emissions')">CO2 emissons</button>
			<button class="tablinks" onclick="openMap(event, 'Power consumption')">Power consumption</button>
			<button class="tablinks" onclick="openMap(event, 'Urban population')">Urban population</button>
		  </div>

		  <div id="Population" class="tabcontent">
			<div id = "vis_pop_chl"></div>
			<p4>
			<br><br><br>Note: grey values indicate missing data. 
			</p4>
		  </div>  

		  <div id="GDP per capita" class="tabcontent">
			<div id = "vis_gdp_chl"></div>
			<p4>
			<br><br><br>Note: grey values indicate missing data. 
			</p4>
		  </div>
			
		  <div id="HDI" class="tabcontent">
			<div id = "vis_hdi_chl"></div>
			<p4>
			<br><br><br>Note: grey values indicate missing data. 
			</p4>
		  </div>

		  <div id="Infant mortality" class="tabcontent">
			<div id = "vis_inf_chl"></div>
			<p4>
			<br><br><br>Note: grey values indicate missing data. 
			</p4>
		  </div> 

		  <div id="CO2 emissions" class="tabcontent">
			<div id = "vis_co2_chl"></div>
			<p4>
			<br><br><br>Note: grey values indicate missing data. 
			</p4>
		  </div> 

		  <div id="Power consumption" class="tabcontent">
			<div id = "vis_pow_chl"></div>
			<p4>
			<br><br><br>Note: grey values indicate missing data. 
			</p4>
		  </div> 

		  <div id="Urban population" class="tabcontent">
			<div id = "vis_urb_chl"></div>
			<p4>
			<br><br><br>Note: grey values indicate missing data. 
			</p4>
		  </div> 

		  
	
		</div>
		
	</div>
  
	<div class="grid-item">
	
		<div class="c">
	
			<div class="tab">
				<button class="tablinks2" onclick="openChart(event, 'Population_scatter')"id="defaultOpen2">Population</button>
				<button class="tablinks2" onclick="openChart(event, 'GDP per capita_scatter')">GDP per capita</button>
				<button class="tablinks2" onclick="openChart(event, 'HDI_scatter')">HDI</button>
				<button class="tablinks2" onclick="openChart(event, 'Infant mortality_scatter')">Infant mortality</button>
				<button class="tablinks2" onclick="openChart(event, 'CO2 emissions_scatter')">CO2 emissons</button>
				<button class="tablinks2" onclick="openChart(event, 'Power consumption_scatter')">Power consumption</button>
				<button class="tablinks2" onclick="openChart(event, 'Urban population_scatter')">Urban population</button>
			</div>
		
			  <div id="Population_scatter" class="tabcontent2">
				<div id = "vis_pop_sca"></div>
			  </div>  

			  <div id="GDP per capita_scatter" class="tabcontent2">
				<div id = "vis_gdp_sca"></div>
			  </div>
				
			  <div id="HDI_scatter" class="tabcontent2">
				<div id = "vis_hdi_sca"></div>
			  </div>

			  <div id="Infant mortality_scatter" class="tabcontent2">
				<div id = "vis_inf_sca"></div>
			  </div> 

			  <div id="CO2 emissions_scatter" class="tabcontent2">
				<div id = "vis_co2_sca"></div>
			  </div> 

			  <div id="Power consumption_scatter" class="tabcontent2">
				<div id = "vis_pow_sca"></div>
			  </div> 

			  <div id="Urban population_scatter" class="tabcontent2">
				<div id = "vis_urb_sca"></div>
			  </div> 
		</div>
	</div>
  
</div>
 
 
<div class="f">
	<p5>
	Sources: <a href="https://data.worldbank.org/indicator/">The World Bank</a> and <a href="http://hdr.undp.org/en/data#">UN</a>
	</p5>
</div> 
 
<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/le_chloropleth.json";
	vegaEmbed('#vis', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>
  
<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/pop_chloropleth.json";
	vegaEmbed('#vis_pop_chl', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/gdp_chloropleth.json";
	vegaEmbed('#vis_gdp_chl', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/hdi_chloropleth.json";
	vegaEmbed('#vis_hdi_chl', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/infmort_chloropleth.json";
	vegaEmbed('#vis_inf_chl', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/co2_chloropleth.json";
	vegaEmbed('#vis_co2_chl', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/power_chloropleth.json";
	vegaEmbed('#vis_pow_chl', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/urbanpop_chloropleth.json";
	vegaEmbed('#vis_urb_chl', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/pop_scatter.json";
	vegaEmbed('#vis_pop_sca', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/gdp_scatter.json";
	vegaEmbed('#vis_gdp_sca', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/hdi_scatter.json";
	vegaEmbed('#vis_hdi_sca', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/infmort_scatter.json";
	vegaEmbed('#vis_inf_sca', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/co2_scatter.json";
	vegaEmbed('#vis_co2_sca', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/power_scatter.json";
	vegaEmbed('#vis_pow_sca', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>

<script type="text/javascript">
	var spec = "https://raw.githubusercontent.com/andrew-cao/Assignment2/main/js/urbanpop_scatter.json";
	vegaEmbed('#vis_urb_sca', spec).then(function(result) {
	  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
	}).catch(console.error);
</script>
  
</body>
</html>
